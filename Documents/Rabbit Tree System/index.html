<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Room Management System</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header class="header">
        <div class="logo">üè® Room Management</div>
        <div class="header-controls">
            <button id="language-toggle" class="btn btn-secondary">EN</button>
            <button id="theme-toggle" class="btn btn-secondary">üåô</button>
        </div>
    </header>

    <main class="container">
        <!-- Login Section -->
        <section id="login-section" class="panel">
            <div class="panel-header">
                <h2 class="panel-title">Login</h2>
            </div>
            <form id="login-form" class="form-group">
                <div class="form-group">
                    <label class="form-label" for="user-id">User ID</label>
                    <input type="text" id="user-id" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label" for="password">Password</label>
                    <input type="password" id="password" class="form-input" required>
                </div>
                <button type="submit" class="btn btn-primary">Login</button>
            </form>
        </section>

        <!-- Staff Controls -->
        <section id="staff-controls" class="panel hidden">
            <div class="panel-header">
                <h2 class="panel-title">Room Cleaning</h2>
                <div class="daily-count">0/5</div>
            </div>
            <div class="form-group">
                <label class="form-label" for="room-select">Select Room</label>
                <select id="room-select" class="form-input">
                    <option value="">Choose a room...</option>
                </select>
            </div>
            <div id="task-list" class="task-list"></div>
            <div class="button-group">
                <button id="start-cleaning" class="btn btn-primary">Start Cleaning</button>
                <button id="complete-cleaning" class="btn btn-primary" disabled>Complete Cleaning</button>
            </div>
        </section>

        <!-- Supervisor Controls -->
        <section id="supervisor-controls" class="panel hidden">
            <div class="panel-header">
                <h2 class="panel-title">Spot Check</h2>
                <div class="daily-count">0/1</div>
            </div>
            <div class="form-group">
                <label class="form-label" for="spot-check-room">Select Room</label>
                <select id="spot-check-room" class="form-input">
                    <option value="">Choose a room...</option>
                </select>
            </div>
            <div class="form-group">
                <label class="form-label" for="spot-check-notes">Notes</label>
                <textarea id="spot-check-notes" class="form-input" rows="4"></textarea>
            </div>
            <div class="button-group">
                <button id="start-spot-check" class="btn btn-primary">Start Spot Check</button>
                <button id="submit-spot-check" class="btn btn-primary" disabled>Submit Spot Check</button>
            </div>
        </section>

        <!-- Owner Controls -->
        <section id="owner-controls" class="panel hidden">
            <div class="panel-header">
                <h2 class="panel-title">Configuration</h2>
            </div>
            <div class="config-tabs">
                <button class="btn btn-secondary active" data-tab="rooms">Rooms</button>
                <button class="btn btn-secondary" data-tab="tasks">Tasks</button>
                <button class="btn btn-secondary" data-tab="users">Users</button>
                <button class="btn btn-secondary" data-tab="settings">Settings</button>
            </div>
            
            <!-- Rooms Config -->
            <div id="rooms-config" class="config-content active">
                <div class="form-group">
                    <label class="form-label">Add New Room</label>
                    <div class="form-row">
                        <input type="text" id="new-room-id" class="form-input" placeholder="Room ID">
                        <input type="text" id="new-room-name-en" class="form-input" placeholder="Room Name (EN)">
                        <input type="text" id="new-room-name-id" class="form-input" placeholder="Room Name (ID)">
                        <button id="add-room" class="btn btn-primary">Add Room</button>
                    </div>
                </div>
                <div id="rooms-list" class="list-container"></div>
            </div>

            <!-- Tasks Config -->
            <div id="tasks-config" class="config-content">
                <div class="form-group">
                    <label class="form-label">Add New Task</label>
                    <div class="form-row">
                        <input type="text" id="new-task-id" class="form-input" placeholder="Task ID">
                        <input type="text" id="new-task-name-en" class="form-input" placeholder="Task Name (EN)">
                        <input type="text" id="new-task-name-id" class="form-input" placeholder="Task Name (ID)">
                        <button id="add-task" class="btn btn-primary">Add Task</button>
                    </div>
                </div>
                <div id="tasks-list" class="list-container"></div>
            </div>

            <!-- Users Config -->
            <div id="users-config" class="config-content">
                <div class="form-group">
                    <label class="form-label">Add New User</label>
                    <div class="form-row">
                        <input type="text" id="new-user-id" class="form-input" placeholder="User ID">
                        <select id="new-user-role" class="form-input">
                            <option value="staff">Staff</option>
                            <option value="supervisor">Supervisor</option>
                            <option value="owner">Owner</option>
                        </select>
                        <input type="text" id="new-user-name" class="form-input" placeholder="Name">
                        <input type="password" id="new-user-password" class="form-input" placeholder="Password">
                        <button id="add-user" class="btn btn-primary">Add User</button>
                    </div>
                </div>
                <div id="users-list" class="list-container"></div>
            </div>

            <!-- Settings Config -->
            <div id="settings-config" class="config-content">
                <div class="form-group">
                    <label class="form-label" for="max-rooms-per-staff">Maximum Rooms per Staff</label>
                    <input type="number" id="max-rooms-per-staff" class="form-input" min="1" max="10">
                </div>
                <div class="form-group">
                    <label class="form-label" for="spot-check-time">Spot Check Time</label>
                    <input type="time" id="spot-check-time" class="form-input">
                </div>
                <button id="save-config" class="btn btn-primary">Save Settings</button>
            </div>
        </section>

        <!-- Manager Controls -->
        <section id="manager-controls" class="panel hidden">
            <div class="panel-header">
                <h2 class="panel-title">Analytics Dashboard</h2>
            </div>
            <div class="analytics-tabs">
                <button class="btn btn-secondary active" data-tab="daily">Daily Overview</button>
                <button class="btn btn-secondary" data-tab="staff">Staff Performance</button>
                <button class="btn btn-secondary" data-tab="quality">Quality Metrics</button>
            </div>
            <div id="analytics-content" class="analytics-content">
                <div class="dashboard-card">
                    <h3>Today's Overview</h3>
                    <div id="daily-stats"></div>
                </div>
                <div class="dashboard-card">
                    <h3>Staff Performance</h3>
                    <div id="staff-stats"></div>
                </div>
                <div class="dashboard-card">
                    <h3>Quality Metrics</h3>
                    <div id="quality-stats"></div>
                </div>
            </div>
        </section>
    </main>

    <script src="i18n.js"></script>
    <script src="auth.js"></script>
    <script src="main.js"></script>
    <script src="scripts/test-logger.js"></script>
    <script src="scripts/test-runner.js"></script>
    <script>
        // Run tests when the page loads
        document.addEventListener('DOMContentLoaded', () => {
            // Wait for system initialization
            RoomForImprovementSystem.events.on('systemInitialized', () => {
                console.log('System initialized, starting tests...');
                TestRunner.runAllTests();
            });
        });
    </script>
</body>
</html>